<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-K36CY569X6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-K36CY569X6');
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7617954284506964"
     crossorigin="anonymous"></script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#0a0e27">

  <!-- Canonical -->
  <link rel="canonical" href="https://www.image-cut.com/compress" />

  <!-- ✅ Updated SEO Meta (Step 4) -->
  <title> Image Resizer — Resize Image Dimensions in Pixels | Image Cut </title>
  <meta name="description" content="Free online image resizer by Image Cut — change image dimensions in pixels instantly without losing quality. Ideal for social media, websites, and custom thumbnails. Fast, private, and 100% free.">
  <meta name="keywords" content="image resizer, resize image pixels, change image dimensions, adjust image size online, pixel resize, resize JPG PNG WebP, resize photo, Image Cut">
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">

  <!-- ✅ Open Graph -->
  <meta property="og:title" content="Image Resizer — Resize Image Dimensions in Pixels | Image Cut">
  <meta property="og:description" content="Adjust your image width and height in pixels instantly — perfect for web, thumbnails, and social media. Fast, secure, and free.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://image-cut.com/compress">
  <meta property="og:image" content="https://image-cut.com/og-resizer.jpg">

  <!-- ✅ Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Image Resizer — Resize Image Dimensions in Pixels | Image Cut">
  <meta name="twitter:description" content="Resize your images online by pixel dimensions — keep quality, stay private, and resize instantly in your browser.">
  <meta name="twitter:image" content="https://image-cut.com/og-resizer.jpg">

  <!-- Favicons -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Preconnect -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <style>
    /* Keep styling consistent with previous layout */
    body {
      font-family: Poppins, Arial, sans-serif;
      background: linear-gradient(135deg, #0a0e27, #1a1a2e, #16213e, #000000);
      color: #e6edf3;
      margin: 0;
      padding: 20px;
      box-sizing: border-box;
      text-align: center;
    }

    .nav {
      display:flex;
      justify-content:center;
      gap:10px;
      margin-bottom: 20px;
    }
    .nav-btn {
      background: transparent;
      border: 2px solid #a6c1ee;
      color: #ffffff;
      padding: 6px 14px;
      border-radius: 30px;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 0 10px rgba(166,193,238,0.5);
    }
    .nav-btn.active { background:#a6c1ee; color:#0a0e27; }

    .container {
      margin: 10px auto;
      width: 100%;
      max-width: 560px;
      background-color: rgba(255,255,255,0.06);
      backdrop-filter: blur(8px);
      padding: 22px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 8px 20px rgba(0,0,0,0.4);
      text-align: center;
    }

    h1 { margin: 0 0 16px; font-size: 1.6rem; color: #fff; display:inline-block; }
    .drop-zone {
      margin: 14px auto;
      padding: 22px;
      border: 2px dashed rgba(255,255,255,0.14);
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.18s ease;
      background: rgba(255,255,255,0.02);
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:8px;
    }
    .drop-zone.dragover {
      background: rgba(166,193,238,0.06);
      border-color: #a6c1ee;
      transform: translateY(-2px);
    }
    .drop-zone p { margin:0; color:#d7dbe6; font-weight:600; }
    .file-input-button {
      margin-top:6px;
      padding:10px 16px;
      border-radius: 10px;
      background: linear-gradient(90deg,#1a1a2e,#16213e);
      color: #fff;
      border: none;
      cursor: pointer;
    }

    /* constrained preview thumbnail (small but clear) */
    .preview-container {
      margin-top: 14px;
      display:flex;
      align-items:center;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
    }
    #previewImage {
      display:none;
      max-width: 240px;    /* constrains preview display */
      max-height: 180px;   /* keep small thumbnail */
      width: auto;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.35);
    }
    .meta {
      color:#cfd8ff;
      font-size:0.9rem;
      text-align:left;
      max-width:240px;
    }

    /* controls */
    .controls {
      margin-top: 14px;
      display:flex;
      flex-direction: column;
      gap:10px;
      align-items:center;
    }
    select, input[type="number"] {
      padding:10px 12px;
      border-radius:8px;
      border:none;
      background: linear-gradient(90deg,#1a1a2e,#16213e);
      color:#fff;
      font-weight:600;
      width: 260px;
      box-shadow: 0 6px 14px rgba(0,0,0,0.35);
    }
    .small-inputs { display:flex; gap:8px; align-items:center; }
    .small-inputs input { width:120px; }

    button.action {
      padding:10px 18px;
      border-radius:10px;
      border:none;
      cursor:pointer;
      background: linear-gradient(90deg,#ffb347,#ffcc33);
      color:#0a0e27;
      font-weight:700;
      box-shadow: 0 6px 18px rgba(0,0,0,0.35);
    }

    a#downloadLink { display:none; text-decoration:none; margin-top:6px; }
    a#downloadLink button { background: linear-gradient(90deg,#1a1a2e,#16213e); color:#fff; }

    canvas { display:none; }

    /* responsive */
    @media (max-width:520px) {
      #previewImage { max-width: 180px; max-height:140px; }
      select, input[type="number"] { width: 200px; }
    }
  </style>
</head>
<body>
  <div class="nav" role="navigation" aria-label="main tools">
    <button class="nav-btn" onclick="location.href='/'"><i class="fas fa-home"></i> Home</button>
    <button class="nav-btn" onclick="location.href='/compress'"><i class="fas fa-scissors"></i> Image Compressor</button>
    <button class="nav-btn" onclick="location.href='/convert'"><i class="fas fa-sync-alt"></i> Convert Format</button>
    <button class="nav-btn" onclick="location.href='/pdfconvert'"><i class="fas fa-file-pdf"></i> PDF to JPG</button>
    <button class="nav-btn active" onclick="location.href='/sizecompress'"><i class="fas fa-compress"></i> Size Compress</button>
  </div>

  <div class="container" aria-live="polite">
    <h1><i class="fas fa-scissors"></i> Image Compressor</h1>

    <div class="drop-zone" id="dropZone" aria-label="Drag and drop image here">
      <p>Drag & Drop your image here or click to choose</p>
      <label for="imageInput" class="file-input-button">Choose Image</label>
      <input type="file" id="imageInput" accept="image/*">
      <div style="font-size:0.85rem;color:#cfd8ff;margin-top:6px;">Preview is shown as a small thumbnail — full-size image used for processing.</div>
    </div>

    <div class="preview-container">
      <img id="previewImage" alt="Preview" />
      <div class="meta" id="metaInfo" style="display:none;"></div>
    </div>

    <div class="controls">
      <select id="sizeSelect" aria-label="Choose output size">
        <option value="original">Original (no resize)</option>
        <option value="instagram_post">Instagram Post — 1080 × 1080</option>
        <option value="instagram_story">Instagram Story — 1080 × 1920</option>
        <option value="facebook_post">Facebook Post — 1200 × 630</option>
        <option value="twitter_post">Twitter Post — 1200 × 675</option>
        <option value="youtube_thumb">YouTube Thumbnail — 1280 × 720</option>
        <option value="tiktok">TikTok — 1080 × 1920</option>
        <option value="linkedin">LinkedIn Post — 1200 × 627</option>
        <option value="custom">Custom (W × H)</option>
      </select>

      <div id="customInputs" style="display:none;">
        <div class="small-inputs">
          <input type="number" id="customWidth" placeholder="Width px" min="1" />
          <input type="number" id="customHeight" placeholder="Height px" min="1" />
        </div>
        <label style="color:#cfd8ff;font-size:0.9rem;">
          <input type="checkbox" id="maintainAspect" checked /> Maintain aspect ratio
        </label>
      </div>

      <button id="compressButton" class="action" style="display:none;">Compress Image</button>
      <a id="downloadLink" href="#" download><button>Download Compressed Image</button></a>
    </div>

    <canvas id="canvas"></canvas>
  </div>

  <!-- FontAwesome for icons (CSS already loaded above) -->
  <!-- Optional JS version left out because CSS link provides icons -->

  <script>
  (function() {
    // Elements
    const dropZone = document.getElementById('dropZone');
    const imageInput = document.getElementById('imageInput');
    const previewImage = document.getElementById('previewImage');
    const metaInfo = document.getElementById('metaInfo');
    const sizeSelect = document.getElementById('sizeSelect');
    const customInputs = document.getElementById('customInputs');
    const customWidth = document.getElementById('customWidth');
    const customHeight = document.getElementById('customHeight');
    const maintainAspect = document.getElementById('maintainAspect');
    const compressButton = document.getElementById('compressButton');
    const downloadLink = document.getElementById('downloadLink');
    const canvas = document.getElementById('canvas');

    // state
    let currentFile = null;        // File object selected
    let originalWidth = 0;
    let originalHeight = 0;
    let lastObjectUrl = null;
    let currentFileName = 'compressed';

    // presets map
    const PRESETS = {
      'instagram_post': {w:1080,h:1080},
      'instagram_story': {w:1080,h:1920},
      'facebook_post': {w:1200,h:630},
      'twitter_post': {w:1200,h:675},
      'youtube_thumb': {w:1280,h:720},
      'tiktok': {w:1080,h:1920},
      'linkedin': {w:1200,h:627}
    };

    function cleanupObjectUrl() {
      if (lastObjectUrl) {
        URL.revokeObjectURL(lastObjectUrl);
        lastObjectUrl = null;
      }
    }

    // Click on drop zone opens file picker
    dropZone.addEventListener('click', () => imageInput.click());

    // Drag UI
    dropZone.addEventListener('dragover', (e) => { e.preventDefault(); dropZone.classList.add('dragover'); });
    dropZone.addEventListener('dragleave', () => dropZone.classList.remove('dragover'));
    dropZone.addEventListener('drop', (e) => {
      e.preventDefault(); dropZone.classList.remove('dragover');
      const f = e.dataTransfer && e.dataTransfer.files && e.dataTransfer.files[0];
      if (f) handleFile(f);
    });

    // File input change
    imageInput.addEventListener('change', (e) => {
      const f = e.target.files && e.target.files[0];
      if (f) handleFile(f);
      e.target.value = '';
    });

    // Size select change: show custom inputs if needed
    sizeSelect.addEventListener('change', () => {
      if (sizeSelect.value === 'custom') {
        customInputs.style.display = 'block';
      } else {
        customInputs.style.display = 'none';
      }
    });

    // Keep aspect ratio when custom width changed
    customWidth.addEventListener('input', () => {
      if (!maintainAspect.checked) return;
      const w = parseInt(customWidth.value, 10);
      if (originalWidth && originalHeight && w > 0) {
        const h = Math.round((w / originalWidth) * originalHeight);
        customHeight.value = h;
      }
    });
    customHeight.addEventListener('input', () => {
      if (!maintainAspect.checked) return;
      const h = parseInt(customHeight.value, 10);
      if (originalWidth && originalHeight && h > 0) {
        const w = Math.round((h / originalHeight) * originalWidth);
        customWidth.value = w;
      }
    });

    // Handle file selection
    function handleFile(file) {
      cleanupObjectUrl();
      if (!file || !file.type.startsWith('image/')) {
        alert('Please choose an image file (JPG, PNG, WebP, etc.).');
        return;
      }
      currentFile = file;
      currentFileName = (file.name && file.name.split('.').slice(0,-1).join('.')) || 'compressed';

      const reader = new FileReader();
      reader.onerror = () => alert('Failed to read file. Try another image.');
      reader.onload = (ev) => {
        // assign preview (small constrained via CSS)
        previewImage.onload = () => {
          // store natural size
          originalWidth = previewImage.naturalWidth;
          originalHeight = previewImage.naturalHeight;
          metaInfo.style.display = 'block';
          metaInfo.innerHTML = `<strong>${currentFileName}</strong><br>${originalWidth} × ${originalHeight}px • ${Math.round(currentFile.size/1024)} KB`;
          compressButton.style.display = 'inline-block';
          downloadLink.style.display = 'none';
        };
        previewImage.onerror = () => {
          alert('Unable to load image preview. Use a different file.');
        };
        previewImage.src = ev.target.result; // small CSS constrained thumbnail only
      };
      reader.readAsDataURL(file);
    }

    // Compute target dimensions from selected preset/custom/original
    function computeTargetDimensions() {
      if (!originalWidth || !originalHeight) return null;
      const sel = sizeSelect.value;
      if (sel === 'original') return {w: originalWidth, h: originalHeight};
      if (sel === 'custom') {
        const cw = parseInt(customWidth.value,10);
        const ch = parseInt(customHeight.value,10);
        if (!cw || !ch) {
          alert('Please enter custom width and height (positive integers).');
          return null;
        }
        return {w: cw, h: ch};
      }
      const preset = PRESETS[sel];
      if (preset) {
        // If preset aspect ratio matches original, use preset; else we scale to fit while preserving aspect ratio
        const presetRatio = preset.w / preset.h;
        const origRatio = originalWidth / originalHeight;
        if (Math.abs(presetRatio - origRatio) < 0.01) {
          return {w: preset.w, h: preset.h};
        } else {
          // Fit within preset box while preserving aspect ratio
          const scale = Math.min(preset.w / originalWidth, preset.h / originalHeight, 1);
          return {w: Math.round(originalWidth * scale), h: Math.round(originalHeight * scale)};
        }
      }
      return {w: originalWidth, h: originalHeight};
    }

    // Compression workflow
    compressButton.addEventListener('click', async () => {
      if (!currentFile || !previewImage.src) {
        alert('Please upload an image first.');
        return;
      }
      const dims = computeTargetDimensions();
      if (!dims) return;

      // safety limit
      const MAX_SIDE = 4096;
      let targetW = dims.w;
      let targetH = dims.h;
      if (targetW > MAX_SIDE || targetH > MAX_SIDE) {
        const ratio = Math.min(MAX_SIDE/targetW, MAX_SIDE/targetH);
        targetW = Math.round(targetW * ratio);
        targetH = Math.round(targetH * ratio);
      }

      // Draw original image (not preview) to canvas at requested size.
      const img = new Image();
      img.onload = async () => {
        try {
          canvas.width = targetW;
          canvas.height = targetH;
          const ctx = canvas.getContext('2d');
          ctx.clearRect(0,0,canvas.width,canvas.height);

          // draw with smoothing enabled
          ctx.imageSmoothingEnabled = true;
          ctx.imageSmoothingQuality = 'high';
          ctx.drawImage(img, 0, 0, targetW, targetH);

          // prefer webp, fallback jpeg
          const quality = 0.82;
          let blob = await new Promise(resolve => {
            try { canvas.toBlob(resolve, 'image/webp', quality); } catch(e) { resolve(null); }
          });

          if (!blob || blob.size === 0) {
            // fallback to jpeg
            blob = await new Promise(resolve => {
              try { canvas.toBlob(resolve, 'image/jpeg', quality); } catch(e) { resolve(null); }
            });
          }

          if (!blob) {
            alert('Compression failed — your browser may not support image encoding. Try Chrome/Edge/Firefox.');
            return;
          }

          // prepare download link
          cleanupObjectUrl();
          lastObjectUrl = URL.createObjectURL(blob);
          const mime = blob.type || 'image/jpeg';
          const ext = mime.split('/')[1] || 'jpg';
          downloadLink.href = lastObjectUrl;
          downloadLink.download = `${currentFileName}.${ext}`;
          downloadLink.style.display = 'inline-block';

          // show final size update
          metaInfo.innerHTML = `<strong>${currentFileName}.${ext}</strong><br>Output: ${targetW} × ${targetH}px • ${Math.round(blob.size/1024)} KB`;

        } catch (err) {
          console.error(err);
          alert('An error occurred during compression. See console for details.');
        }
      };
      img.onerror = () => alert('Failed to process the image. Try a different file or browser.');
      // Use the already-loaded data URL (previewImage.src). For remote images, cross-origin may block canvas draw.
      img.src = previewImage.src;
    });

    // revoke object urls when navigating away
    window.addEventListener('beforeunload', () => {
      cleanupObjectUrl();
    });

  })();
  </script>
</body>
</html>
